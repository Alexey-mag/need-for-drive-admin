(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["car"],{"07ac":function(t,e,r){var a=r("23e7"),o=r("6f53").values;a({target:"Object",stat:!0},{values:function(t){return o(t)}})},2532:function(t,e,r){"use strict";var a=r("23e7"),o=r("5a34"),i=r("1d80"),c=r("ab13");a({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},"287a":function(t,e,r){},"44e7":function(t,e,r){var a=r("861d"),o=r("c6b6"),i=r("b622"),c=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==o(t))}},5230:function(t,e,r){"use strict";r("57d1")},"57d1":function(t,e,r){},"57f0":function(t,e,r){"use strict";r("287a")},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,r){var a=r("1d80"),o=r("5899"),i="["+o+"]",c=RegExp("^"+i+i+"*"),n=RegExp(i+i+"*$"),s=function(t){return function(e){var r=String(a(e));return 1&t&&(r=r.replace(c,"")),2&t&&(r=r.replace(n,"")),r}};t.exports={start:s(1),end:s(2),trim:s(3)}},"5a34":function(t,e,r){var a=r("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"6f53":function(t,e,r){var a=r("83ab"),o=r("df75"),i=r("fc6a"),c=r("d1e7").f,n=function(t){return function(e){var r,n=i(e),s=o(n),l=s.length,p=0,u=[];while(l>p)r=s[p++],a&&!c.call(n,r)||u.push(t?[r,n[r]]:n[r]);return u}};t.exports={entries:n(!0),values:n(!1)}},7156:function(t,e,r){var a=r("861d"),o=r("d2bb");t.exports=function(t,e,r){var i,c;return o&&"function"==typeof(i=e.constructor)&&i!==r&&a(c=i.prototype)&&c!==r.prototype&&o(t,c),t}},"960f":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"car__container"},[r("h1",{staticClass:"car__title"},[t._v("Карточка Автомобиля")]),r("el-form",{ref:"formCar",staticClass:"car__card_form",attrs:{"label-position":"top",model:t.formCar,rules:t.rules}},[r("el-card",{staticClass:"car__small_card"},[r("p",{staticClass:"card__car_model"},[t._v(t._s(t.formCar.carModel))]),t.formCar.carCategory?r("p",{staticClass:"card__car_category"},[t._v(t._s(t.formCar.carCategory))]):t._e(),r("el-form-item",{attrs:{prop:"thumbnail"}},[r("dropdown-app",{on:{update:t.setImage}})],1),r("div",{staticClass:"car__progress"},[r("p",{staticClass:"car__progress_title"},[t._v("Заполнено")]),r("el-progress",{attrs:{percentage:t.percentageLoader}})],1),r("div",{staticClass:"car__description"},[r("el-form-item",{attrs:{label:"Описание",prop:"carDescription"}},[r("el-input",{attrs:{type:"textarea",rows:4},on:{input:t.testCarDescription},model:{value:t.formCar.carDescription,callback:function(e){t.$set(t.formCar,"carDescription",e)},expression:"formCar.carDescription"}})],1)],1)],1),r("el-card",{staticClass:"car__large_card",attrs:{"body-style":{height:"100%"}}},[r("div",{staticClass:"large__card_title"},[t._v("Настройки автомобиля")]),r("div",{staticClass:"large__card_block1"},[r("div",{staticClass:"card__input_block"},[r("el-form-item",{attrs:{label:"Модель автомобиля",prop:"carModel"}},[r("input-app",{attrs:{item:t.formCar.carModel,"input-class":"car__input"},on:{update:t.setCarModel}})],1)],1),r("div",{staticClass:"card__input_block"},[r("el-form-item",{attrs:{label:"Тип автомобиля",prop:"carCategory"}},[t.getCarCategory?r("select-app",{attrs:{"select-class":"car__input",items:t.getCarCategory,item:t.formCar.carCategory,"option-label":"name","option-value":"name",multiple:!1,"select-label":""},on:{update:t.setCategory}}):t._e()],1)],1)]),r("div",{staticClass:"large__card_block2"},[r("div",{staticClass:"card__input_block"},[r("div",{staticClass:"car__input_and_button"},[r("el-form-item",{attrs:{label:"Доступные цвета"}},[r("input-app",{attrs:{item:t.color,"input-class":"car__input"},on:{update:t.carColor}})],1),r("el-button",{staticClass:"car__card_input_button",attrs:{type:"default"},on:{click:t.addColor}},[r("i",{staticClass:"el-icon-plus card__plus_icon"})])],1)]),r("el-form-item",{attrs:{prop:"carColors"}},[r("checkbox-group-app",{attrs:{items:t.formCar.carColors,item:t.formCar.selectedColors,"class-prop":"car__card__checkbox"},on:{update:t.setSelectedColors}})],1),r("div",{staticClass:"car__input__price_block"},[r("el-form-item",{attrs:{label:"Цена от",prop:"priceMin"}},[r("input-app",{attrs:{item:t.formCar.priceMin,"input-class":"car__input_price",type:"number"},on:{update:t.setPriceMin}})],1),r("el-form-item",{attrs:{label:"Цена до",prop:"priceMax"}},[r("input-app",{attrs:{item:t.formCar.priceMax,"input-class":"car__input_price",type:"number"},on:{update:t.setPriceMax}})],1)],1)],1),r("div",{staticClass:"large__card_footer"},[r("div",{staticClass:"card_footer_confirm"},[r("button-app",{attrs:{"button-type":"primary",name:"Сохранить"},on:{click:function(e){return t.submitForm("formCar")}}}),r("button-app",{attrs:{"button-type":"default",name:"Отменить"},on:{click:function(e){return t.clearForm("formCar")}}})],1),r("div",{staticClass:"card_footer_cancel"},[r("button-app",{attrs:{"button-type":"danger",name:"Удалить"}})],1)])])],1)],1)},o=[],i=r("5530"),c=(r("b64b"),r("07ac"),r("159b"),r("b0c0"),r("caad"),r("2532"),r("a9e3"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("el-upload",{ref:"upload",staticClass:"dropdown__input",attrs:{"auto-upload":!1,"on-change":t.setCarImage,action:"https://jsonplaceholder.typicode.com/posts/",accept:"image/png, image/jpeg, image/jpg","list-type":"picture-card",limit:1}},[r("div",{staticClass:"dropdown__image_name"},[t._v(t._s(t.imgName))]),r("el-button",{staticClass:"dropdown__button",attrs:{slot:"trigger",type:"default",plain:""},slot:"trigger"},[t._v("Обзор")])],1)],1)}),n=[],s={name:"DropdownApp",data:function(){return{imgName:""}},methods:{setCarImage:function(t){this.imgName=t.name,this.$emit("update",t)}}},l=s,p=(r("5230"),r("2877")),u=Object(p["a"])(l,c,n,!1,null,null,null),f=u.exports,d=r("6646"),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-checkbox-group",{class:t.classProp,on:{change:t.updateValue},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}},t._l(t.items,(function(t){return r("el-checkbox",{key:t.index,attrs:{label:t,checked:""}})})),1)},C=[],g={name:"CheckboxGroupApp",computed:{model:{get:function(){return this.item},set:function(t){this.updateValue(t)}}},props:{items:Array,item:Array,classProp:String},methods:{updateValue:function(t){this.$emit("update",t)}}},_=g,h=Object(p["a"])(_,m,C,!1,null,null,null),b=h.exports,v=r("2f62"),y=r("e18c"),M=r("2cac"),x={name:"CarCard",components:{ButtonApp:M["a"],SelectApp:y["a"],CheckboxGroupApp:b,DropdownApp:f,InputApp:d["a"]},data:function(){var t=function(t,e,r){if(!e)return r(new Error("Пожалуйста, введите цену автомобиля"));e<=0?r(new Error("Цена должна быть положительным числом больше 0")):r()},e=function(t,e,r){if(0===Object.keys(e).length)return r(new Error("Пожалуйста, загрузите изображение автомобиля"));r()};return{formCar:{carDescription:"",carModel:"",thumbnail:{},carCategory:"",priceMin:null,priceMax:null,carColors:[],selectedColors:[]},rules:{carModel:[{required:!0,message:"Пожалуйста, введите модель автомобиля",trigger:"blur"}],carDescription:[{required:!0,message:"Пожалуйста, введите описание автомобиля",trigger:"blur"}],priceMin:[{validator:t,trigger:"blur"}],priceMax:[{validator:t,trigger:"blur"}],thumbnail:[{validator:e,trigger:"blur"}],carCategory:[{required:!0,message:"Пожалуйста, выберите категорию автомобиля",trigger:"blur"}]},color:"",clear:!1,percentage:{dropdown:!1,carDescription:!1,carModel:!1,carCategory:!1,carColors:!1,priceMin:!1,priceMax:!1}}},computed:Object(i["a"])(Object(i["a"])({},Object(v["c"])("car",["getCarCategory"])),{},{percentageLoader:function(){var t=0,e=Object.values(this.percentage);e.forEach((function(e){!0===e&&(t+=1)}));var r=100/7*t;return Math.ceil(r)}}),methods:Object(i["a"])(Object(i["a"])({},Object(v["b"])("car",["fetchCarCategory","postCar"])),{},{setCarModel:function(t){this.formCar.carModel=t,this.percentage.carModel=""!==this.formCar.carModel},setSelectedColors:function(t){this.formCar.selectedColors=t},testCarDescription:function(){this.percentage.carDescription=""!==this.formCar.carDescription},setImage:function(t){this.formCar.thumbnail.size=t.size,this.formCar.thumbnail.mimetype=t.raw.type,this.formCar.thumbnail.path=t.raw,this.formCar.thumbnail.originalname=t.raw.name,this.percentage.dropdown=!0},carColor:function(t){this.color=t},addColor:function(){if(this.color){if(this.percentage.carColors=!0,this.formCar.carColors.includes(this.color))return this.formCar.carColors;this.formCar.carColors.push(this.color)}this.color=""},clearOff:function(){this.clear=!1},setCategory:function(t){this.formCar.carCategory=t,this.percentage.carCategory=""!==this.formCar.carCategory},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var r={name:e.formCar.carModel,description:e.formCar.carDescription,priceMin:e.formCar.priceMin,priceMax:e.formCar.priceMax,colors:e.formCar.selectedColors.length>0?e.formCar.selectedColors:e.formCar.carColors,categoryId:e.formCar.carCategory,thumbnail:e.formCar.thumbnail};console.log(r),e.postCar(r),e.$message.success("Успех! Машина сохранена.")}else e.$notify.error({title:"Ошибка заполнения формы",message:"Пожалуйста, заполните все поля корректно"})}))},clearForm:function(t){this.$refs[t].resetFields(),this.percentage.dropdown=!1,this.percentage.carDescription=!1,this.percentage.carCategory=!1,this.percentage.carColors=!1,this.percentage.carModel=!1,this.percentage.priceMax=!1,this.percentage.priceMin=!1},setPriceMin:function(t){this.formCar.priceMin=Number(t),this.percentage.priceMin=0!==this.formCar.priceMin},setPriceMax:function(t){this.formCar.priceMax=Number(t),this.percentage.priceMax=0!==this.formCar.priceMax}}),mounted:function(){this.fetchCarCategory()}},k=x,w=(r("57f0"),Object(p["a"])(k,a,o,!1,null,null,null));e["default"]=w.exports},a9e3:function(t,e,r){"use strict";var a=r("83ab"),o=r("da84"),i=r("94ca"),c=r("6eeb"),n=r("5135"),s=r("c6b6"),l=r("7156"),p=r("c04e"),u=r("d039"),f=r("7c73"),d=r("241c").f,m=r("06cf").f,C=r("9bf2").f,g=r("58a8").trim,_="Number",h=o[_],b=h.prototype,v=s(f(b))==_,y=function(t){var e,r,a,o,i,c,n,s,l=p(t,!1);if("string"==typeof l&&l.length>2)if(l=g(l),e=l.charCodeAt(0),43===e||45===e){if(r=l.charCodeAt(2),88===r||120===r)return NaN}else if(48===e){switch(l.charCodeAt(1)){case 66:case 98:a=2,o=49;break;case 79:case 111:a=8,o=55;break;default:return+l}for(i=l.slice(2),c=i.length,n=0;n<c;n++)if(s=i.charCodeAt(n),s<48||s>o)return NaN;return parseInt(i,a)}return+l};if(i(_,!h(" 0o1")||!h("0b1")||h("+0x1"))){for(var M,x=function(t){var e=arguments.length<1?0:t,r=this;return r instanceof x&&(v?u((function(){b.valueOf.call(r)})):s(r)!=_)?l(new h(y(e)),r,x):y(e)},k=a?d(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),w=0;k.length>w;w++)n(h,M=k[w])&&!n(x,M)&&C(x,M,m(h,M));x.prototype=b,b.constructor=x,c(o,_,x)}},ab13:function(t,e,r){var a=r("b622"),o=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[o]=!1,"/./"[t](e)}catch(a){}}return!1}},caad:function(t,e,r){"use strict";var a=r("23e7"),o=r("4d64").includes,i=r("44d2");a({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},e18c:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-select",{class:t.selectClass,attrs:{multiple:t.multiple,"collapse-tags":"",placeholder:t.selectLabel},on:{change:t.updateValue},model:{value:t.valueOption,callback:function(e){t.valueOption=e},expression:"valueOption"}},t._l(t.items,(function(e){return r("el-option",{key:e.index,attrs:{label:e[t.optionLabel],value:e[t.optionValue]}})})),1)},o=[],i={name:"SelectApp",props:{selectLabel:String,items:Array,item:String,optionLabel:String,optionValue:String,selectClass:String,multiple:Boolean},computed:{valueOption:{get:function(){return this.item},set:function(t){this.updateValue(t)}}},methods:{updateValue:function(t){this.$emit("update",t)}}},c=i,n=r("2877"),s=Object(n["a"])(c,a,o,!1,null,null,null);e["a"]=s.exports}}]);
//# sourceMappingURL=car.688414ba.js.map